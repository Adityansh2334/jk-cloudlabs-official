<section id="main-content" class="contact-section" @fadeIn>
  <div class="container">

    <div class="section-header">
      <h2 class="section-title">Let's Build Something Great Together</h2>
      <p class="section-subtitle">
        Have questions? Ready to start your project? We’re here to help. Reach out and let’s connect.
      </p>
    </div>

    <div class="contact-content">
      <form
        name="contact"
        method="POST"
        netlify
        netlify-honeypot="bot-field"
        class="contact-form"
        (ngSubmit)="onSubmit(contactForm)"
        #contactForm="ngForm"
        novalidate
        aria-label="Contact form"
      >
        <!-- Netlify Hidden Inputs -->
        <input type="hidden" name="form-name" value="contact" />
        <p class="hidden">
          <label>Don’t fill this out if you're human: <input name="bot-field" /></label>
        </p>

        <!-- Name Field -->
        <div class="form-group">
          <label for="name">Full Name *</label>
          <input
            type="text"
            id="name"
            name="name"
            required
            minlength="2"
            maxlength="50"
            [(ngModel)]="contact.name"
            #name="ngModel"
            placeholder="Your full name"
            aria-required="true"
            aria-describedby="nameHelp"
          />
          <small *ngIf="name.invalid && (name.dirty || name.touched)" class="error">
            Name is required (2–50 characters).
          </small>
        </div>

        <!-- Email Field -->
        <div class="form-group">
          <label for="email">Email Address *</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            [(ngModel)]="contact.email"
            #email="ngModel"
            placeholder="your.email@example.com"
            aria-required="true"
            aria-describedby="emailHelp"
          />
          <small *ngIf="email.invalid && (email.dirty || email.touched)" class="error">
            Please enter a valid email.
          </small>
        </div>

        <!-- Company Field (Optional) -->
        <div class="form-group">
          <label for="company">Company Name (Optional)</label>
          <input
            type="text"
            id="company"
            name="company"
            maxlength="100"
            [(ngModel)]="contact.company"
            placeholder="Your company name"
          />
        </div>

        <!-- Message Field -->
        <div class="form-group">
          <label for="message">Your Message *</label>
          <textarea
            id="message"
            name="message"
            rows="5"
            required
            minlength="10"
            maxlength="1000"
            [(ngModel)]="contact.message"
            #message="ngModel"
            placeholder="Tell us about your project or questions..."
            aria-required="true"
            aria-describedby="messageHelp"
          ></textarea>
          <small *ngIf="message.invalid && (message.dirty || message.touched)" class="error">
            Message is required (10–1000 characters).
          </small>
        </div>

        <!-- Submit Button -->
        <button
          type="submit"
          class="btn-submit"
          [disabled]="contactForm.invalid || loading"
          aria-live="polite"
        >
          {{ loading ? 'Sending...' : 'Send Message' }}
        </button>

        <!-- Success Message -->
        <p *ngIf="success" class="success-message">
          Thank you! Your message has been sent.
        </p>
      </form>

      <aside class="contact-info">
        <h3>Contact Information</h3>
        <p>
          <strong>Email:</strong>
          <a href="mailto:{{officialEmail}}">{{officialEmail}}</a><br />
          <strong>Phone:</strong>
          <a href="tel:{{officialPhone}}">{{officialPhone}}</a><br />
          <strong>Address:</strong>
          {{officialAddress}}
        </p>

        <div class="social-links" aria-label="Social media links">
          <a href="#" target="_blank" rel="noopener" aria-label="Twitter">
            <svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" width="24" height="24">
              <path d="M23 3a10.9 10.9 0 0 1-3.14.86 5.48 5.48 0 0 0 2.41-3.02 10.91 10.91 0 0 1-3.47 1.33 5.46 5.46 0 0 0-9.32 4.98A15.5 15.5 0 0 1 1.67 2.16a5.46 5.46 0 0 0 1.69 7.29 5.41 5.41 0 0 1-2.47-.68v.07a5.47 5.47 0 0 0 4.38 5.36 5.49 5.49 0 0 1-1.44.2 5.4 5.4 0 0 1-1.03-.1 5.47 5.47 0 0 0 5.1 3.8A10.94 10.94 0 0 1 1 19.54a15.47 15.47 0 0 0 8.39 2.45c10.07 0 15.58-8.34 15.58-15.58 0-.24 0-.48-.02-.72A11.16 11.16 0 0 0 23 3z"/>
            </svg>
          </a>
          <a href="#" target="_blank" rel="noopener" aria-label="LinkedIn">
            <svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" width="24" height="24">
              <path d="M4.98 3.5A2.5 2.5 0 1 1 7.5 6 2.5 2.5 0 0 1 4.98 3.5zM4 8.7h3.97v12H4zm6.44 0h3.8v1.7h.06a4.18 4.18 0 0 1 3.76-2.07c4.02 0 4.77 2.65 4.77 6.1v7.25h-3.97v-6.44c0-1.54-.03-3.52-2.14-3.52-2.14 0-2.47 1.67-2.47 3.4v6.56H10.4z"/>
            </svg>
          </a>
          <a href="#" target="_blank" rel="noopener" aria-label="GitHub">
            <svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" width="24" height="24">
              <path d="M12 2C6.48 2 2 6.58 2 12.17c0 4.5 2.87 8.31 6.84 9.66.5.1.68-.22.68-.48 0-.24-.01-.87-.01-1.71-2.78.61-3.37-1.37-3.37-1.37-.45-1.16-1.11-1.48-1.11-1.48-.9-.63.07-.62.07-.62 1 .07 1.53 1.05 1.53 1.05.89 1.56 2.34 1.11 2.9.85.09-.66.35-1.11.63-1.37-2.22-.25-4.56-1.13-4.56-5.02 0-1.11.39-2.01 1.03-2.72-.1-.25-.45-1.27.1-2.65 0 0 .84-.27 2.75 1.04a9.6 9.6 0 0 1 2.5-.35c.85 0 1.7.12 2.5.35 1.91-1.31 2.75-1.04 2.75-1.04.56 1.38.21 2.4.1 2.65.64.71 1.03 1.6 1.03 2.72 0 3.9-2.35 4.76-4.58 5.01.36.31.68.92.68 1.85 0 1.33-.01 2.4-.01 2.72 0 .27.18.59.69.49A10.18 10.18 0 0 0 22 12.17C22 6.58 17.52 2 12 2z"/>
            </svg>
          </a>
        </div>
      </aside>
    </div>
  </div>
</section>
